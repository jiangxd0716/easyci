<h1>安装</h1>
<h2>一、 docker安装</h2>
<h3>Centos</h3>
<h3>安装docker18.03</h3>
<ul>
<li>wget https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-18.03.1.ce-1.el7.centos.x86_64.rpm</li>
<li>yum install -y docker-ce-18.03.1.ce-1.el7.centos.x86_64.rpm</li>
<li>systemctl start docker</li>
</ul>
<h3>安装docker-compose</h3>
<ul>
<li>curl -L https://github.com/docker/compose/releases/download/1.14.0/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose</li>
<li>sudo chmod +x /usr/local/bin/docker-compose</li>
</ul>
<p>　　或者通过pip安装</p>
<ul>
<li>pip install docker-compose</li>
</ul>
<h3>ubuntu</h3>
<h3>由于apt官方库里的docker版本可能比较旧，所以先卸载可能存在的旧版本：<br />$ sudo apt-get remove docker docker-engine docker-ce docker.io<br />更新apt包索引：<br />$ sudo apt-get update<br />安装以下包以使apt可以通过HTTPS使用存储库（repository）：<br />$ sudo apt-get install -y apt-transport-https ca-certificates curl software-properties-common<br />添加Docker官方的GPG密钥：<br />$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -<br />使用下面的命令来设置stable存储库：<br />$ sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"<br />再更新一下apt包索引：<br />$ sudo apt-get update<br />安装最新版本的Docker CE：<br />$ sudo apt-get install -y docker-ce</h3>
<h2>二 、镜像命令</h2>
<h3>1. docker images</h3>
<ul>
<li>查看本地已经拥有的镜像</li>






</ul>
<h3>2. docker pull 镜像名</h3>
<ul>
<li>下载镜像</li>






</ul>
<h3>3. docker rmi 镜像id/镜像名</h3>
<ul>
<li>删除镜像(多个)</li>






</ul>
<h3>4. docker commit</h3>
<ul>
<li>用运行的容器创建镜像</li>
<li>参数: -a 作者 -m '注解' 容器名(id) 镜像名:镜像版本号</li>






</ul>
<h3>5. docker push 镜像名:镜像版本号</h3>
<ul>
<li>上传镜像</li>






</ul>
<h2>三 、容器命令</h2>
<h3>1. docker ps</h3>
<p>查看运行中的容器</p>
<h3>2. docker ps -a</h3>
<p>查看所有容器</p>
<h3>3. docker rm 容器id</h3>
<p>删除容器</p>
<h3>4. docker stop 容器id</h3>
<p>停止容器</p>
<h3>5. docker start 容器id</h3>
<p>启动容器</p>
<h3>6. docker restart 容器id</h3>
<p>重启容器</p>
<h3>7. docker run</h3>
<p>创建并启动容器</p>
<ul>
<li>-it 启动交互终端(结尾需要驾驶 /bin/bash)</li>
<li>-d 后台启动</li>
<li>-p 80:8080 端口映射80为宿主端口,8080为容器端口<br />​ -- name=blog 容器命名</li>







</ul>
<h3>8. control+p+q</h3>
<p>退出容器并保持容器运行(终止容器退出命令为exit)</p>
<h3>9. docker exec -it 容器名或者容器的id /bin/bash</h3>
<p>进入正在运行的容器</p>
<h3>10. docker cp</h3>
<ul>
<li>宿主机到容器</li>







</ul>
<pre class="line-numbers  language-bash"><code class="  language-bash"># 将主机/www/runoob目录拷贝到容器96f7f14e99ab中，目录重命名为www。
docker cp /www/runoob 96f7f14e99ab:/www
</code></pre>
<ul>
<li>容器到宿主机</li>
</ul>
<pre class="line-numbers  language-bash"><code class="  language-bash"># 将容器96f7f14e99ab的/www目录拷贝到主机的/tmp目录中。
docker cp  96f7f14e99ab:/www /tmp/
</code></pre>
<h2>四、 Dockerfile</h2>
<h3>1. Dockerfile文件</h3>
<pre class="line-numbers  language-objectivec"><code class="  language-objectivec"># 指定基础镜像文件
FROM ubuntu<span class="token punctuation">:latest

# 指定维护者信息
MAINTAINER wanghaifei

# 将代码copy到容器中。如 ADD <span class="token punctuation">.<span class="token operator">/blog <span class="token operator">/blog 表示将和dockerfile文件同级的blog代码copy到容器的根路径<span class="token operator">/blog中
ADD 和dockerfile文件相对的项目地址 拷贝到容器中的项目地址

# 指定工作目录
WORKDIR <span class="token operator">/blog

# 复制
COPY 地址  新地址

# 执行更新命令
RUN apt update
# 创建项目地址的日志文件或者媒体文件等
RUN mkdir <span class="token operator">-p <span class="token operator">/日志logs地址
RUN mkdir <span class="token operator">-p <span class="token operator">/媒体media地址

# 指定开放端口
EXPOSE <span class="token number">8000

# 在容器启动时执行命令
ENTRYPOINT <span class="token punctuation">[<span class="token string">"python"<span class="token punctuation">]
CMD <span class="token punctuation">[<span class="token string">"manage.py"<span class="token punctuation">, <span class="token string">"runserver"<span class="token punctuation">, <span class="token string">"0.0.0.0:8000"<span class="token punctuation">]
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<h3>2. 生成镜像</h3>
<p><code>docker build -t 镜像名</code>&nbsp;.&nbsp;(注意最后有个点用来表示当前目录，初次构建速度会比较慢，需要多等一会。)</p>